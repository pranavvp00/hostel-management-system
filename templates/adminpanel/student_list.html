{% extends 'base.html' %}
{% load static %}

{% block title %}All Students{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4 text-center fw-bold">ðŸŽ“ All Students</h1>

    <div class="table-responsive shadow-sm rounded">
        <table class="table table-striped table-bordered align-middle">
            <thead class="table-dark">
                <tr>
                    <th>Photo</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Department</th>
                    <th>Guardian Name</th>
                    <th>Guardian Phone</th>
                    <th>Hostel</th>
                </tr>
            </thead>
            <tbody>
                {% for student in students %}
                <tr class="align-middle">
                    <td>
                        {% if student.profile_photo %}
                            <img src="{{ student.profile_photo.url }}" class="rounded-circle" width="45" height="45">
                        {% else %}
                            <img src="{% static 'images/default-profile.png' %}" class="rounded-circle" width="45" height="45">
                        {% endif %}
                    </td>
                    <td>{{ student.user.username }}</td>
                    <td>{{ student.user.email }}</td>
                    <td>{{ student.phone }}</td>
                    <td>{{ student.studentprofile.department }}</td>
                    <td>{{ student.studentprofile.parent_name }}</td>
                    <td>{{ student.studentprofile.parent_phone }}</td>
                    <td>
                        {% if student.studentprofile.hostel %}
                            {{ student.studentprofile.hostel.name }}
                        {% else %}
                            Not Assigned
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="8" class="text-center text-muted">No students found.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="{% url 'admin_dashboard' %}" class="btn btn-gradient mt-4">â¬… Back to Dashboard</a>
</div>

<style>
/* Table hover effect */
.table tbody tr:hover {
    background-color: #f3f4f6;
    transition: background-color 0.3s ease;
}

/* Gradient button */
.btn-gradient {
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
    color: #fff;
    border: none;
    transition: transform 0.2s;
}
.btn-gradient:hover {
    transform: scale(1.05);
}

/* Profile image */
img.rounded-circle {
    object-fit: cover;
    border: 2px solid #ddd;
}

/* Responsive table shadow */
.table-responsive {
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-radius: 10px;
    overflow: hidden;
}
</style>
{% endblock %}
